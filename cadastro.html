<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro de Seres</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="assets/css/cadastro.css">

<style>
body { overflow-x: hidden; margin:0; padding:0; }

/* --- Menu Hamburger Mobile --- */
.main-nav .flex-container { display: flex; justify-content: space-between; align-items: center; }
.main-nav-links { display: flex; gap: 15px; }
.hamburger { display: none; font-size: 28px; cursor: pointer; color: #fff; }

/* Menu lateral mobile */
.main-nav-links-mobile {
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0;
  left: -260px;
  width: 250px;
  height: 100%;
  background: #2d6a4f;
  padding-top: 60px;
  gap: 0;
  transition: left 0.3s ease;
  z-index: 1000;
  overflow-y: auto;
}
.main-nav-links-mobile ul { list-style: none; padding: 0; margin: 0; }
.main-nav-links-mobile li { border-bottom: 1px solid rgba(255,255,255,0.2); }
.main-nav-links-mobile a { color: #fff; padding: 15px 20px; display: block; text-decoration: none; }
.main-nav-links-mobile a:hover { background: rgba(0,0,0,0.2); }
.main-nav-links-mobile.active { left: 0; }

/* Submenu */
.main-nav-links-mobile .submenu { display: none; flex-direction: column; }
.main-nav-links-mobile .has-submenu.active .submenu { display: flex; }

/* Overlay */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  z-index: 900;
}
.overlay.active { display: block; }

/* --- Ajustes gerais para mobile --- */
@media (max-width: 768px) {
  .main-nav-links { display: none; }
  .hamburger { display: block; }

  .form-row { flex-direction: column; align-items: center; }
  .form-col { width: 100%; }
  #map { height: 300px; margin-top: 15px; width: 100%; }

  .hero-denuncia-content { padding: 30px 15px; text-align: center; }
  .hero-denuncia-content h1 { font-size: 1.8rem; }
  .hero-denuncia-content p { font-size: 0.95rem; }

  .filtro-especies { flex-direction: column; gap: 10px; }
  .filtro-input, .filtro-select { width: 100%; text-align: center; }
}

/* Centralizar botão submit */
.btn-full { display: block; width: 100%; max-width: 400px; margin: 20px auto; }
</style>
</head>
<body>

<!-- Barra de Navegação Principal -->
<header class="main-nav">
  <div class="container flex-container">
    <div class="logo">
      <i class="fas fa-paw"></i>
      <span>BIO-GUINÉ</span>
    </div>
    <nav class="main-nav-links">
      <a href="index.html">Home</a>
      <a href="cadastro.html">Listas de espécies</a>
      <a href="denuncia.html">Listas de denúncias</a>
      <a href="login.html">Login</a>
    </nav>
    <i class="bi bi-list hamburger"></i>
  </div>
</header>

<!-- Menu lateral mobile -->
<nav class="main-nav-links-mobile">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li class="has-submenu">
      <a href="#">Listas</a>
      <ul class="submenu">
        <li><a href="cadastro.html">Espécies</a></li>
        <li><a href="denuncia.html">Denúncias</a></li>
      </ul>
    </li>
    <li><a href="login.html">Login</a></li>
  </ul>
</nav>

<!-- Overlay -->
<div class="overlay"></div>

<!-- Barra de Utilitários -->
<div class="top-bar">
  <div class="container top-bar-links" style="justify-content:center; flex-wrap:wrap;">
    <a href="#">Blog</a>
    <a href="#">Notícia</a>
    <a href="#">Quiz</a>
    <a href="#">Sobre</a>
    <a href="#">Contacto</a>
    <button id="btnMostrarForm" class="btn btn-success mb-3">Cadastrar Novo Ser</button>
  </div>
</div>

<!-- Seção Hero -->
<section class="hero-denuncia">
  <div class="hero-denuncia-content">
    <h1>Bio-Guiné</h1>
    <p>Ajude a conservar a biodiversidade enviando denúncias detalhadas.</p>
    <a class="fale" href="#">Fale conosco</a>
  </div>
</section>
<br><br>

<!-- Seção de espécies -->
<section class="lista-especies mt-5">
  <div class="container">
    <h2 style="text-align:center;">Espécies Cadastradas</h2>
    <div class="filtro-especies mb-4 d-flex flex-wrap justify-content-center">
      <input type="text" id="filtroNome" placeholder="Filtrar por nome da espécie" class="form-control filtro-input">
      <select id="filtroCategoria" class="form-select filtro-select mt-2">
        <option value="">Todas as categorias</option>
      </select>
      <select id="filtroEspecie" class="form-select filtro-select mt-2">
        <option value="">Todas as espécies</option>
      </select>
      <select id="filtroTipo" class="form-select filtro-select mt-2">
        <option value="">Todos os tipos</option>
      </select>
    </div>
    <div id="listaEspecies" class="row row-cols-1 row-cols-md-3 g-4"></div>
  </div>
</section>

<!-- Formulário -->
<form id="serForm" enctype="multipart/form-data">
  <div class="form-row d-flex justify-content-center">
    <div class="form-col form-left">
      <div class="mb-3">
        <label for="nomeComum" class="form-label">Nome Comum</label>
        <input type="text" id="nomeComum" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="nomeCientifico" class="form-label">Nome Científico</label>
        <input type="text" id="nomeCientifico" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="descricao" class="form-label">Descrição</label>
        <textarea id="descricao" class="form-control" rows="3"></textarea>
      </div>
      <div class="mb-3">
        <label for="especie" class="form-label">Espécie</label>
        <select id="especie" class="form-select" required></select>
      </div>
      <div class="mb-3">
        <label for="tipo" class="form-label">Tipo</label>
        <select id="tipo" class="form-select" required>
          <option value="">Selecione um tipo</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="statusConservacao" class="form-label">Status de Conservação</label>
        <select id="statusConservacao" class="form-select" required>
          <option value="EM_PERIGO">Em Perigo</option>
          <option value="VULNERAVEL">Vulnerável</option>
          <option value="EXTINTO">Extinto</option>
          <option value="CRITICAMENTE_EM_PERIGO">Criticamente em Perigo</option>
          <option value="QUASE_AMEACADO">Quase Ameaçado</option>
          <option value="POUCO_PREOCUPANTE">Pouco Preocupante</option>
          <option value="DADOS_INSUFICIENTES">Dados Insuficientes</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Imagem</label>
        <div class="d-flex gap-2">
          <input type="file" id="inputImagem" accept="image/*" capture="environment" style="display:none">
          <button type="button" id="btnTirarFoto" class="btn btn-outline-primary">Tirar Foto</button>
          <button type="button" id="btnEscolherGaleria" class="btn btn-outline-secondary">Escolher da Galeria</button>
        </div>
        <input type="file" id="imagem" class="form-control mt-2" accept="image/*" style="display:none;">
        <img id="previewImagem" src="" alt="Preview da Imagem" style="display:none; max-width: 50%; margin-top: 10px;">
      </div>
    </div>
    <div class="form-col form-right">
      <div id="map" style="height:350px;"></div>
      <input type="hidden" id="latitude" name="latitude">
      <input type="hidden" id="longitude" name="longitude">
    </div>
  </div>
  <button type="submit" class="btn btn-primary mt-3 btn-full">Cadastrar</button>
</form>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="assets/page/cadastro.js"></script>

<script>
// Hamburger menu toggle
const hamburgerBtn = document.querySelector('.hamburger');
const mobileMenu = document.querySelector('.main-nav-links-mobile');
const overlay = document.querySelector('.overlay');

hamburgerBtn.addEventListener('click', () => {
  mobileMenu.classList.toggle('active');
  overlay.classList.toggle('active');
});

overlay.addEventListener('click', () => {
  mobileMenu.classList.remove('active');
  overlay.classList.remove('active');
});

// Submenu toggle
document.querySelectorAll('.has-submenu > a').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    link.parentElement.classList.toggle('active');
  });
});
</script>

</body>
</html>
